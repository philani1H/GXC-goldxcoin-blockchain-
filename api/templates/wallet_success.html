<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallet Created - GXC Wallet</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --success-color: #10b981;
        }
        
        body {
            background: var(--primary-gradient);
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
            padding: 2rem 0;
        }
        
        .success-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            max-width: 900px;
            margin: 0 auto;
        }
        
        .info-section {
            background: rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .info-item {
            padding: 0.75rem 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .info-item:last-child {
            border-bottom: none;
        }
        
        .info-label {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 0.25rem;
        }
        
        .info-value {
            font-family: 'Courier New', monospace;
            word-break: break-all;
            color: #1f2937;
        }
        
        .copy-btn {
            background: var(--primary-gradient);
            border: none;
            border-radius: 8px;
            padding: 0.5rem 1rem;
            color: white;
            cursor: pointer;
            font-size: 0.85rem;
        }
        
        .copy-btn:hover {
            opacity: 0.9;
        }
        
        .warning-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }
        
        .qr-container {
            text-align: center;
            padding: 2rem;
            background: white;
            border-radius: 12px;
            margin-bottom: 2rem;
        }
        
        .btn-primary-custom {
            background: var(--primary-gradient);
            border: none;
            border-radius: 50px;
            padding: 0.75rem 2rem;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark mb-4">
        <div class="container">
            <a class="navbar-brand fw-bold" href="/">
                <i class="fas fa-wallet me-2"></i>GXC Wallet
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/dashboard">Dashboard</a>
                <a class="nav-link" href="/logout">Logout</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="success-card">
            <div class="text-center mb-4">
                <div class="mb-3">
                    <i class="fas fa-check-circle fa-4x text-success"></i>
                </div>
                <h2 class="fw-bold text-success">Wallet Created Successfully!</h2>
                <p class="text-muted">Save this information to access your wallet later</p>
                
                {% if wallet_data.network %}
                <div class="alert {% if wallet_data.network == 'testnet' %}alert-warning{% else %}alert-info{% endif %} mt-3">
                    <strong>Network:</strong> 
                    {% if wallet_data.network == 'testnet' %}
                    <span class="badge bg-warning text-dark">⚠️ TESTNET</span>
                    {% else %}
                    <span class="badge bg-success">✅ MAINNET</span>
                    {% endif %}
                    <br>
                    <strong>Network Name:</strong> {{ wallet_data.network_name }}
                    <br>
                    <strong>Address Prefix:</strong> {{ network_info.address_prefix|default('GXC') }}
                    {% if wallet_data.network == 'testnet' %}
                    <br><small class="text-warning">⚠️ This is a TESTNET wallet. Coins have no real value.</small>
                    {% else %}
                    <br><small class="text-success">✅ This is a MAINNET wallet. Real GXC coins with value.</small>
                    {% endif %}
                </div>
                {% endif %}
            </div>

            <div class="warning-box">
                <h5><i class="fas fa-exclamation-triangle me-2"></i>IMPORTANT - Save This Information!</h5>
                <p class="mb-0">You need the following information to access your wallet and interact with the GXC blockchain. Save it securely - you won't be able to see this again!</p>
            </div>

            <!-- QR Code -->
            <div class="qr-container">
                <h5 class="mb-3">Wallet Address QR Code</h5>
                <div id="qr-code"></div>
                <p class="mt-3 mb-0">
                    <strong>Address:</strong> <span id="wallet-address">{{ wallet_data.address }}</span>
                    <button class="copy-btn ms-2" onclick="copyToClipboard('{{ wallet_data.address }}', this)">
                        <i class="fas fa-copy me-1"></i>Copy
                    </button>
                </p>
            </div>

            <!-- User Credentials -->
            <div class="info-section">
                <h5 class="mb-3"><i class="fas fa-user-shield me-2"></i>Your Login Credentials</h5>
                <div class="info-item">
                    <div class="info-label">Username</div>
                    <div class="info-value">{{ wallet_data.user_info.username }}</div>
                    <button class="copy-btn mt-2" onclick="copyToClipboard('{{ wallet_data.user_info.username }}', this)">
                        <i class="fas fa-copy me-1"></i>Copy Username
                    </button>
                </div>
                <div class="info-item">
                    <div class="info-label">Email</div>
                    <div class="info-value">{{ wallet_data.user_info.email }}</div>
                    <button class="copy-btn mt-2" onclick="copyToClipboard('{{ wallet_data.user_info.email }}', this)">
                        <i class="fas fa-copy me-1"></i>Copy Email
                    </button>
                </div>
                <div class="info-item">
                    <div class="info-label">User ID</div>
                    <div class="info-value">{{ wallet_data.user_info.user_id }}</div>
                    <button class="copy-btn mt-2" onclick="copyToClipboard('{{ wallet_data.user_info.user_id }}', this)">
                        <i class="fas fa-copy me-1"></i>Copy User ID
                    </button>
                </div>
            </div>

            <!-- Wallet Information -->
            <div class="info-section">
                <h5 class="mb-3"><i class="fas fa-wallet me-2"></i>Wallet Information</h5>
                <div class="info-item">
                    <div class="info-label">Wallet Name</div>
                    <div class="info-value">{{ wallet_data.wallet_name }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Wallet Address</div>
                    <div class="info-value">{{ wallet_data.address }}</div>
                    <button class="copy-btn mt-2" onclick="copyToClipboard('{{ wallet_data.address }}', this)">
                        <i class="fas fa-copy me-1"></i>Copy Address
                    </button>
                </div>
                <div class="info-item">
                    <div class="info-label">Wallet ID</div>
                    <div class="info-value">{{ wallet_data.wallet_id }}</div>
                    <button class="copy-btn mt-2" onclick="copyToClipboard('{{ wallet_data.wallet_id }}', this)">
                        <i class="fas fa-copy me-1"></i>Copy Wallet ID
                    </button>
                </div>
            </div>

            <!-- Access Token -->
            <div class="info-section">
                <h5 class="mb-3"><i class="fas fa-key me-2"></i>Access Token</h5>
                <div class="info-item">
                    <div class="info-label">JWT Token (Valid for 24 hours)</div>
                    <div class="info-value" id="access-token">{{ wallet_data.access_token }}</div>
                    <button class="copy-btn mt-2" onclick="copyToClipboard('{{ wallet_data.access_token }}', this)">
                        <i class="fas fa-copy me-1"></i>Copy Token
                    </button>
                    <small class="d-block mt-2 text-muted">Use this token to authenticate API requests</small>
                </div>
            </div>

            <!-- Network Information -->
            <div class="info-section">
                <h5 class="mb-3"><i class="fas fa-network-wired me-2"></i>Network & Chain Information</h5>
                <div class="info-item">
                    <div class="info-label">Network Name</div>
                    <div class="info-value">{{ wallet_data.network_info.network_name }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Chain ID</div>
                    <div class="info-value">{{ wallet_data.network_info.chain_id }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">RPC URL</div>
                    <div class="info-value">{{ wallet_data.network_info.rpc_url }}</div>
                    <button class="copy-btn mt-2" onclick="copyToClipboard('{{ wallet_data.network_info.rpc_url }}', this)">
                        <i class="fas fa-copy me-1"></i>Copy RPC URL
                    </button>
                </div>
                <div class="info-item">
                    <div class="info-label">Explorer URL</div>
                    <div class="info-value">
                        <a href="{{ wallet_data.access_instructions.explorer_url }}" target="_blank">
                            {{ wallet_data.access_instructions.explorer_url }}
                        </a>
                    </div>
                </div>
                <div class="info-item">
                    <div class="info-label">API Endpoint</div>
                    <div class="info-value">{{ wallet_data.access_instructions.api_endpoint }}</div>
                    <button class="copy-btn mt-2" onclick="copyToClipboard('{{ wallet_data.access_instructions.api_endpoint }}', this)">
                        <i class="fas fa-copy me-1"></i>Copy API URL
                    </button>
                </div>
            </div>

            <!-- Private Key - CRITICAL -->
            <div class="info-section" style="background: #fee2e2; border-left: 4px solid #dc2626;">
                <h5 class="mb-3 text-danger"><i class="fas fa-key me-2"></i>Private Key (CRITICAL - SAVE THIS!)</h5>
                <div class="info-item">
                    <div class="info-label text-danger">⚠️ WARNING: This is shown ONCE. Save it securely!</div>
                    <div class="info-value" style="font-size: 0.9rem; word-break: break-all; background: white; padding: 1rem; border-radius: 8px; margin-top: 0.5rem;">
                        {{ wallet_data.private_key }}
                    </div>
                    <button class="copy-btn mt-2" onclick="copyToClipboard('{{ wallet_data.private_key }}', this)" style="background: #dc2626;">
                        <i class="fas fa-copy me-1"></i>Copy Private Key
                    </button>
                    <small class="d-block mt-2 text-danger">
                        <strong>Use in third-party wallets:</strong> You can import this private key into any compatible GXC wallet application to access your wallet. Keep it secret and never share it!
                    </small>
                </div>
            </div>

            <!-- Seed Phrase - CRITICAL -->
            <div class="info-section" style="background: #fef3c7; border-left: 4px solid #f59e0b;">
                <h5 class="mb-3 text-warning"><i class="fas fa-seedling me-2"></i>Seed Phrase / Mnemonic (CRITICAL - SAVE THIS!)</h5>
                <div class="info-item">
                    <div class="info-label text-warning">⚠️ WARNING: This is shown ONCE. Write it down and store it safely!</div>
                    <div class="info-value" style="font-size: 1.1rem; word-break: break-all; background: white; padding: 1.5rem; border-radius: 8px; margin-top: 0.5rem; font-weight: 600; text-align: center; letter-spacing: 0.1em;">
                        {{ wallet_data.seed_phrase }}
                    </div>
                    <button class="copy-btn mt-2" onclick="copyToClipboard('{{ wallet_data.seed_phrase }}', this)" style="background: #f59e0b;">
                        <i class="fas fa-copy me-1"></i>Copy Seed Phrase
                    </button>
                    <small class="d-block mt-2 text-warning">
                        <strong>Use in third-party wallets:</strong> This 12-word BIP39 mnemonic phrase can restore your wallet on ANY compatible GXC wallet application. You can use it to access your wallet from other apps, mobile wallets, or hardware wallets that support GXC!
                    </small>
                </div>
            </div>

            <!-- Recovery Information -->
            <div class="info-section">
                <h5 class="mb-3"><i class="fas fa-redo me-2"></i>Recovery Information</h5>
                <div class="info-item">
                    <div class="info-label">Created At</div>
                    <div class="info-value">{{ wallet_data.recovery_info.created_at }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Login URL</div>
                    <div class="info-value">
                        <a href="{{ wallet_data.access_instructions.login_url }}" target="_blank">
                            {{ wallet_data.access_instructions.login_url }}
                        </a>
                    </div>
                </div>
            </div>

            <div class="text-center mt-4">
                <a href="/dashboard" class="btn btn-primary-custom">
                    <i class="fas fa-tachometer-alt me-2"></i>Go to Dashboard
                </a>
                <button onclick="window.print()" class="btn btn-outline-secondary ms-2">
                    <i class="fas fa-print me-2"></i>Print This Page
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Generate QR Code
        function generateQRCode() {
            const qr = qrcode(0, 'M');
            const address = '{{ wallet_data.address }}';
            qr.addData(address);
            qr.make();
            document.getElementById('qr-code').innerHTML = qr.createImgTag(4);
        }

        // Copy to clipboard
        function copyToClipboard(text, button) {
            navigator.clipboard.writeText(text).then(() => {
                const originalHTML = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check me-1"></i>Copied!';
                button.style.background = 'var(--success-color)';
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.style.background = '';
                }, 2000);
            });
        }

        // Initialize QR code
        generateQRCode();
    </script>
</body>
</html>

