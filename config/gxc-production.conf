# GXC Blockchain Node - Production Configuration
# ================================================
# SECURITY WARNING: This file contains sensitive information.
# Permissions should be set to 600 (read/write owner only)
# 
# chmod 600 /etc/gxc/gxc.conf
# chown gxc:gxc /etc/gxc/gxc.conf
#
# Last Updated: December 9, 2024
# Version: 2.1.0

##############################################################################
# CRITICAL SECURITY SETTINGS - CHANGE THESE BEFORE DEPLOYMENT!
##############################################################################

# RPC Authentication (CHANGE THESE!)
rpcuser=CHANGE_ME_UNIQUE_USERNAME
rpcpassword=CHANGE_ME_STRONG_PASSWORD_MIN_32_CHARS_WITH_SPECIAL_CHARS

# SECURITY NOTE: Generate strong password with:
# openssl rand -base64 32

##############################################################################
# Network Configuration
##############################################################################

# Network type
network=mainnet

# P2P Network Port
port=8333

# Bind to all interfaces (or specific IP for security)
bind=0.0.0.0

# External IP (auto-detected if not set)
#externalip=YOUR_PUBLIC_IP_HERE

# Connection Limits (adjust based on server capacity)
maxconnections=125
maxoutbound=8

# Seed Nodes (PRODUCTION - update with actual seed nodes)
addnode=seed1.gxc.network:8333
addnode=seed2.gxc.network:8333
addnode=seed3.gxc.network:8333
addnode=seed4.gxc.network:8333
addnode=seed5.gxc.network:8333

# Enable IPv6
ipv6=1

# Enable UPnP (disable if using manual port forwarding)
upnp=0

##############################################################################
# RPC Configuration
##############################################################################

# Enable RPC Server
server=1

# RPC Port
rpcport=8332

# RPC Bind Address (SECURITY: localhost only by default)
rpcbind=127.0.0.1

# Allow RPC from specific IPs only (SECURITY: whitelist only)
# Examples:
# rpcallowip=127.0.0.1           # Localhost only (most secure)
# rpcallowip=10.0.0.0/8          # Private network
# rpcallowip=192.168.1.100       # Specific IP
rpcallowip=127.0.0.1

# RPC Authentication Method
rpcauth=basic

# Enable RPC SSL/TLS (RECOMMENDED for production)
rpcssl=0
# If enabling SSL, uncomment and configure:
#rpcsslcertificatechainfile=/etc/gxc/ssl/server.cert
#rpcsslprivatekeyfile=/etc/gxc/ssl/server.key

##############################################################################
# REST API Configuration
##############################################################################

# REST API Port
restport=8080

# Enable REST API (disable if not needed)
rest=1

# REST API bind address
restbind=127.0.0.1

##############################################################################
# WebSocket Configuration
##############################################################################

# WebSocket Port
wsport=8081

# Enable WebSocket (disable if not needed)
websocket=0

# WebSocket bind address
wsbind=127.0.0.1

##############################################################################
# Wallet Configuration
##############################################################################

# Enable Wallet
wallet=1

# Wallet Encryption (CRITICAL: always enable)
encryptwallet=1

# Wallet Lock Timeout (seconds) - auto-lock after inactivity
walletlocktimeout=300

# Enable HD Wallet
hdwallet=1

# Automatic Wallet Backup
autobackup=1
walletbackupinterval=1000
walletbackupdir=/var/lib/gxc/backups

##############################################################################
# Mining Configuration (Disable for non-mining nodes)
##############################################################################

# Enable Mining
mining=0

# Mining Algorithm
# Options: SHA256, ETHASH, GXHASH
# - SHA256: Bitcoin-style, ASIC-friendly, fast
# - ETHASH: Ethereum-style, GPU-friendly
# - GXHASH: Argon2id-based, ASIC-resistant, memory-hard (RECOMMENDED)
miningalgorithm=GXHASH

# Mining Threads (0 = auto-detect)
miningthreads=0

# Mining Address (set if mining enabled)
#miningaddress=GXC_YOUR_MINING_ADDRESS_HERE

# Solo Mining
solomining=1

# Mining Intensity (1-100)
miningintensity=50

##############################################################################
# Staking Configuration (Enable for validator nodes)
##############################################################################

# Enable Staking
staking=0

# Staking Address (set if staking enabled)
#stakingaddress=GXC_YOUR_STAKING_ADDRESS_HERE

# Minimum Stake
minstake=100

# Auto-restake Rewards
autostake=1

##############################################################################
# Database Configuration
##############################################################################

# Database Type
dbtype=leveldb

# Data Directory (use fast SSD storage)
datadir=/var/lib/gxc

# Database Cache Size (MB) - adjust based on available RAM
# Recommended: 25% of total RAM
# Example: 16GB RAM = 4096MB cache
dbcache=2048

# Maximum Database Size (MB)
maxdbsize=10240

# Enable Database Compression
dbcompression=1

# Database Sync Mode (sync = safer, async = faster)
dbsync=sync

##############################################################################
# Logging Configuration
##############################################################################

# Log Level (error/warn/info/debug)
# Production: info
# Troubleshooting: debug
loglevel=info

# Log to File
logtofile=1
logfile=/var/log/gxc/gxc.log

# Log Rotation
maxlogsize=100
logrotate=10

# Log to Console (disable for daemon mode)
logtoconsole=0

# Enable Timestamps
logtimestamp=1

# Log Categories (comma-separated)
# Available: net, mining, staking, wallet, rpc, db, consensus
logcategories=net,consensus,wallet

##############################################################################
# Performance Configuration
##############################################################################

# Worker Threads (0 = auto-detect based on CPU cores)
workerthreads=0

# Enable Multithreading
multithreading=1

# Memory Pool Configuration
mempoolsize=300
maxmempooltx=5000

# Transaction Fees
txfee=0.0001
mintxfee=0.00001

# Transaction Size Limits
maxtxsize=100000

# Block Size Limit
maxblocksize=1000000

# Enable Bloom Filters
bloomfilters=1

##############################################################################
# Security Configuration
##############################################################################

# Require Password for Mining
requirepasswordformining=0

# Require Password for Staking
requirepasswordforstaking=0

# Enable Transaction Signing
signtransactions=1

# Validate All Transactions
validatetransactions=1

# Check Block Signatures
checkblocksigs=1

# Enable Address Validation
validateaddresses=1

# Disable Dangerous Features
devmode=0
debugrpc=0
skipsigverification=0
experimental=0

##############################################################################
# Oracle Configuration
##############################################################################

# Enable Price Oracle
oracle=1

# Oracle Update Interval (seconds)
oracleinterval=300

# Price Sources
pricesources=coinmarketcap,coingecko,binance

# Enable PoP Validation
enablepop=1

##############################################################################
# Governance Configuration
##############################################################################

# Enable Governance
governance=1

# Voting Weight
votingweight=1.0

# Proposal Fee (GXC)
proposalfee=100

# Voting Period (blocks)
votingperiod=10080

# Quorum Requirement (percentage)
quorum=51

##############################################################################
# Cross-Chain Configuration
##############################################################################

# Enable Cross-Chain Bridges
crosschain=1

# Supported Chains
supportedchains=bitcoin,ethereum,litecoin

# Bridge Fee (percentage)
bridgefee=0.1

# Confirmation Requirements
bitcoinconfirmations=6
ethereumconfirmations=12
litecoinconfirmations=6

##############################################################################
# System Integration
##############################################################################

# Run as Daemon
daemon=1

# PID File
pidfile=/var/run/gxc/gxc.pid

# User/Group (run as non-root)
#runasuser=gxc
#runasgroup=gxc

# Enable Systemd Integration
systemd=1

# Graceful Shutdown Timeout
shutdowntimeout=30

##############################################################################
# Advanced Configuration
##############################################################################

# Protocol Version
protocolversion=70015

# Client Version
clientversion=2010000

# Enable Alert System
alerts=1

# Enable Fee Market
feemarket=1

# Dynamic Fee Adjustment
dynamicfees=1

##############################################################################
# Monitoring & Health Checks
##############################################################################

# Enable Health Check Endpoint
healthcheck=1

# Health Check Port
healthcheckport=8090

# Metrics Export (Prometheus format)
metrics=1
metricsport=9090

##############################################################################
# Rate Limiting (DDoS Protection)
##############################################################################

# RPC Rate Limit (requests per second per IP)
rpcratelimit=10

# REST Rate Limit
restratelimit=100

# WebSocket Rate Limit
wsratelimit=50

# Ban Duration for Rate Limit Violations (seconds)
banduration=3600

##############################################################################
# Backup Configuration
##############################################################################

# Automatic Blockchain Snapshot
autosnapshot=1
snapshotinterval=10000
snapshotdir=/var/lib/gxc/snapshots

# Prune Old Snapshots (keep last N)
prunesnapshots=5

##############################################################################
# Network Optimization
##############################################################################

# TCP Keep-Alive
tcpkeepalive=1

# Connection Timeout (seconds)
connectiontimeout=30

# Peer Timeout (seconds)
peertimeout=60

# Enable Fast Relay
fastrel=1

##############################################################################
# Consensus Parameters (DO NOT CHANGE unless network upgrade)
##############################################################################

# Block Time Target (seconds)
blocktime=120

# Block Reward (GXC)
blockreward=50.0

# Halving Interval (blocks)
halvinginterval=210000

# Minimum Stake (GXC)
minstake=100.0

# Maximum Stake (GXC, 0 = unlimited)
maxstake=0

# Staking Period Range (days)
minstakingdays=30
maxstakingdays=365

##############################################################################
# Emergency Controls (Use only in emergencies)
##############################################################################

# Emergency Stop (stops accepting new transactions)
#emergencystop=0

# Maintenance Mode (read-only)
#maintenancemode=0

##############################################################################
# END OF CONFIGURATION
##############################################################################

# SECURITY CHECKLIST:
# [ ] Changed rpcuser and rpcpassword
# [ ] Set rpcallowip to specific IPs only
# [ ] Enabled wallet encryption
# [ ] Configured firewall rules
# [ ] Set file permissions to 600
# [ ] Configured automatic backups
# [ ] Reviewed all settings above
# [ ] Tested configuration on testnet first
# [ ] Documented any custom changes

# DEPLOYMENT CHECKLIST:
# [ ] Copied to /etc/gxc/gxc.conf
# [ ] Set ownership: chown gxc:gxc /etc/gxc/gxc.conf
# [ ] Set permissions: chmod 600 /etc/gxc/gxc.conf
# [ ] Created data directory: mkdir -p /var/lib/gxc
# [ ] Created log directory: mkdir -p /var/log/gxc
# [ ] Created backup directory: mkdir -p /var/lib/gxc/backups
# [ ] Configured systemd service
# [ ] Enabled auto-start: systemctl enable gxc-node
# [ ] Started service: systemctl start gxc-node
# [ ] Verified status: systemctl status gxc-node
# [ ] Checked logs: tail -f /var/log/gxc/gxc.log
# [ ] Verified sync: gxc-cli getblockchaininfo
# [ ] Configured monitoring
# [ ] Tested backup/restore procedures
